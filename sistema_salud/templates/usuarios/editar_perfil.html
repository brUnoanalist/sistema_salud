{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto mt-10">
    <div class="flex justify-center">
        <div class="w-full md:w-1/2">
            <h1 class="text-center text-2xl font-bold mb-6 italic">Editar Perfil</h1>
            <form method="post" enctype="multipart/form-data" class="bg-blue-100 p-6 shadow-md rounded-lg">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="username" class="block text-gray-700 font-semibold italic">Nombre de Usuario</label>
                    <input type="text" name="username" id="username" value="{{ user.username }}" class="mt-1 block w-full border rounded-lg py-2 px-3 bg-gray-100" readonly>
                    <small class="text-gray-600">No puedes cambiar tu nombre de usuario.</small>
                </div>
                <div class="mb-4">
                    {% if user.profile_picture %}
                        <img src="{{ user.profile_picture.url }}" alt="Foto de Perfil" class="w-32 h-32 rounded-full shadow-md mb-3">
                    {% endif %}
                    {{ form.profile_picture.label_tag }}
                    {{ form.profile_picture }}
                </div>
                <div class="mb-4">
                    <label for="email" class="block text-gray-700 font-semibold italic">Correo Electrónico</label>
                    <input type="email" name="email" id="email" value="{{ user.email }}" class="mt-1 block w-full border rounded-lg py-2 px-3" required>
                </div>
                <div class="mb-4">
                    <label for="full_name" class="block text-gray-700 font-semibold italic">Nombre Completo</label>
                    <input type="text" name="full_name" id="full_name" value="{{ user.full_name }}" class="mt-1 block w-full border rounded-lg py-2 px-3" required>
                </div>
                <div class="mb-4">
                    <label for="phone" class="block text-gray-700 font-semibold italic">Teléfono</label>
                    <input type="text" name="phone" id="phone" value="{{ user.phone }}" class="mt-1 block w-full border rounded-lg py-2 px-3" required>
                </div>
                <div class="mb-4">
                    <label for="user_type" class="block text-gray-700 font-semibold italic">Tipo de Usuario</label>
                    <input type="hidden" name="user_type" id="user_type" value="{{ user.user_type }}">
                    <input type="text" class="mt-1 block w-full border rounded-lg py-2 px-3 bg-gray-100" value="{{ user.get_user_type_display }}" readonly>
                </div>
                {% if user.user_type == 'profesional' %}
                <div class="form-group">
                 <label for="id_specialties"  class="block text-sm font-medium text-gray-700">Especialidades:</label>
                 <input type="text" name="specialties" id="specialties" value="{{ user.specialties }}" class="mt-1 block w-full border rounded-lg py-2 px-3" required>
                    </div>
                    <div class="mb-4">
                        <label for="id_bio" class="block text-sm font-medium text-gray-700">Bio:</label>
                        <input type="text" name="bio" id="bio" value="{{ user.Bio }}" class="mt-1 block w-full border rounded-lg py-2 px-3" required>
                    </div>
                {% endif %}
                <div class="flex justify-center mt-6">
                    <button type="submit" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition italic">Actualizar Perfil</button>
                </div>
            </form>
            
        </div>
    </div>
</div>
{% endblock %}
